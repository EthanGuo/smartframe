<div class='session_head'>
        <div class="" style="width:100%;height:40px;background:#23658B;">
                <a href="#/smartserver/group/{{groupid}}"><b style='float:left;color:white;margin-top:8px;margin-left:10px;'>Back</b></a>
                <button type="button" style='float:right;color:white; margin-top:3px' ng-click="signout()" class="btn btn-link">Sign Out</button>
       </div>

</div>
        <div class='group_members ' >
              <dl style='float:right;margin-right:30px;margin-top:20px'>
		<dt><h3>Members</h3></dt>
		<dd ng-repeat="member in members">
			<img style='width:30px;height:30px;margin-bottom:5px;' ng-src='{{member.avatar.url}}'>
			<span>{{member.username}}</span>
            <button ng-click='delMember("{{member.username}}")' class='btn btn-mini btn-link'>del</button>
		</dd>
	</dl>
	</div>
<div class='span10 row session_content' style='margin-left:0px;'>

	<div class='session span10'>
		<table class='table table-striped table-hover'>
			<thead>
				<tr>
					<th>Planname</th>
					<th>Starttime</th>
					<th>Tester</th>
					<th>Runtime</th>
					<th>Product</th>
					<th>Revision</th>
					<th>IMEI</th>
					<th>Total</th>
					<th>Pass</th>
					<th>Fail</th>
					<th>Error</th>
				</tr>
			</thead>
			<tbody>
				<tr >
					<td>{{session.planname}}</td>
					<td>{{session.starttime}}</td>
					<td>{{session.tester}}</td>
					<td>{{session.runtime}}</td> <td>{{session.deviceinfo.product}}</td>
					<td style='word-break:break-all;'>{{session.deviceinfo.revision}}</td>
					<td style='word-break:break-all;'>{{session.deviceinfo.deviceid}}</td>
					<td><a href='' ng-click="getCases('total')">{{session.summary.total}}</a></td>
					<td><a href='' ng-click="getCases('pass')">{{session.summary.pass}}</a></td>
					<td><a href='' ng-click="getCases('fail')">{{session.summary.fail}}</a></td>
					<td><a href='' ng-click="getCases('error')">{{session.summary.error}}</a></td>
				</tr>
			</tbody>
		</table>
	</div>
<!--<div id='snapshots'>
	<div id="myCarousel" class="carousel slide" >
	  <ol class="carousel-indicators" >
	    <li data-target="#myCarousel" class='active' ng-repeat='snapshot in snapshots' data-slide-to="{{$index}}"  >
	    </li>
	  </ol>
	  <div class="carousel-inner">
	    <div ng-repeat='snapshot in snapshots' ng-class="{active:$first}" class='item' ng-switch on='$index'>
	    	<div ng-switch-when='0' style='float:left;margin-left:20px'>
		        <img style="width:{{deviceinfo.width}}px;height:{{deviceinfo.height}}px" ng-src='{{expectshot.url}}'>
		        <div style="border:3px solid green; position:absolute; top:{{expectshot.y}}px; left:{{expectshot.x+20}}px; width:{{expectshot.w}}px; height:{{expectshot.h}}px"></div>  		
	    	</div>
	    	<div style='float:left;margin-left:20px'>
		        <img style="width:{{deviceinfo.width}}px;height:{{deviceinfo.height}}px" ng-src='{{snapshot.url}}'>
		        <div style="border:3px solid green; position:absolute; top:{{snapshot.y}}px; left:{{snapshot.x+20}}px; width:{{snapshot.w}}px; height:{{snapshot.h}}px"></div>
	    	</div>	
	   </div>
	  </div>
	  <a class="carousel-control left" href="#myCarousel" data-slide="prev">&lsaquo;</a>
	  <a class="carousel-control right" href="#myCarousel" data-slide="next">&rsaquo;</a>
	</div>
</div>--> 
	<div class="pagination pagination-centered span10">
		<ul>
			<li ng-click='prepage()'><a href="">&laquo;</a></li>
			<li ng-click="pagenationTo({{page}})" ng-class='{active:(page.pagenumber + buffer)==pageindex}' ng-repeat="page in totalpage"><a href="">{{page.pagenumber + buffer}}</a></li>
			<li ng-click='nextpage()'><a href="">&raquo;</a></li>
		</ul>		
	</div>
	<div class='cases span10' >
		<table class='table table-striped table-hover' >
			<thead>
				<th><input ng-model='master' ng-click="setAllTids()" type="checkbox"></th>
				<th>Tid</th>
				<th>TestCase</th>
				<th>Start Time</th>
				<th>Result</th>
				<th>Log</th>
				<th>Image</th>
				<th><a ng-click='getTids()'  href="">Comments</a></th>
			</thead>
			<tbody>
				<tr ng-repeat='case in cases' ng-switch on="case.result">
                	<td>
                		<input  ng-model='selected[case.tid]' ng-switch-when="fail" type="checkbox">
                		<input  ng-model='selected[case.tid]' ng-switch-when="error" type="checkbox">
                	</td>
					<td>{{case.tid}}</td>
					<td>{{case.casename}}</td>
					<td>{{case.starttime}}</td>
					<td>{{case.result}}</td>
					<td><a ng-switch-when="fail" ng-href="{{baseurl}}{{case.log.url}}">log</a><a ng-switch-default href=""></a></td>
					<td><a ng-switch-when="fail" ng-click="getImages(case)" href="">image</a><a ng-switch-default href=""></a></td>
					<td>
					  <span ng-mouseenter='collapse[case.tid] = true ' ng-mouseleave='collapse[case.tid] = false' >
						{{case.comments.caseresult}} {{case.comments.issuetype}}
					  </span>
					  <br>
					  <div collapse='!collapse[case.tid]'>	
					   <span autoGrow style='display:block;word-break:break-all;max-width:200px;'>
						{{case.comments.commentinfo}}{{case.comments.endsession | endsession}}
					   </span>
					  </div>
					</td>
				</tr>			
			</tbody>
		</table>
	</div>
</div>


<!--<div id="addComments"  title='Comments for Cases' >
	<div style='float:left;'>
		<textarea placeholder="Add your comments here..." ng-model='comments'  style='margin-top:20px;width:250px;height:200px'></textarea>
	</div>
	<div style='float:left;width:280;height:auto;margin-left:20px;margin-top:20px'>
		<form class="comment-form" style='float:left;'>
			<label for="Issue Type">Issue Type</label>
			<select ng-model='issue'>
				<option>PhoneHang</option>
				<option>ForceClose</option>
				<option>ANR</option>
				<option>SystemCrash</option>
				<option>UIFreeze</option>
				<option>Others</option>
			</select>
	        <label class="" for="Case Result">Case Result</label>
	        <select ng-model='caseret'>
	        	<option>fail</option>
			<option>block</option>
	        </select><br>
		<label class='checkbox'>
	    	<input ng-model='endsession' type='checkbox'>Session ends here?
		</label><br>
	        <button type="button" ng-click="commit()" class='btn btn-primary'>Commit</button>
	        <button type="button" ng-click="clear()" class='btn btn-primary'>Clear</button>
		</form>
	</div>
</div>-->
<script type='text/ng-template' id='comments.html'>
	<div class='modal-header'>
	   <h3> Add your comments</h3>
        </div>
        <div style='float:left;margin-left:15px'>
                <textarea placeholder="Add your comments here..." ng-model='selected.comments'  style='margin-top:20px;width:250px;height:200px'></textarea>
        </div>
        <div class='modal-body' style='float:left;width:280;height:auto;margin-left:20px;margin-top:5px'>
                <form class="comment-form" style='float:left;'>
                        <label for="Issue Type">Issue Type</label>
                        <select ng-model='selected.issue'>
                                <option>PhoneHang</option>
                                <option>ForceClose</option>
                                <option>ANR</option>
                                <option>SystemCrash</option>
                                <option>UIFreeze</option>
                                <option>Others</option>
                        </select>
                <label for="Case Result">Case Result</label>
                <select ng-model='selected.caseret'>
                        <option>fail</option>
                        <option>block</option>
                </select><br>
                <label class='checkbox'>
                <input ng-model='selected.endsession' ng-disabled='disable' type='checkbox'>Session ends here?
                </label><br>
                <button type="button" ng-click="commit()" class='btn btn-primary'>Commit</button>
                <button type="button" ng-click="clear()" class='btn btn-primary'>Clear</button>
                </form>
        </div>
</script>
