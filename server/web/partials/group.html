<style>
.green{
background:#F5FBEF;
border:none;
}
.odd{
background:#f9f9f9;
}
</style>
<div class='group_head'>
	<div class="" style="width:100%;height:40px;background:#23658B;">
		<a href="#/smartserver/index"><b style='float:left;color:white;margin-left:10px;margin-top:8px;'>Back</b></a>
		<button type="button" style='float:right;color:white;margin-top:3px;' ng-click="signout()" class="btn btn-link">Sign Out</button>
		<a style='float:right;color:white;margin-top:3px;' href="#/smartserver/setting/{{username}}"> 
		   <button style='color:white' class='btn btn-link'>Account Settings</button>
		</a>
       </div>
</div>

<div class='group_content span9'>
	<div class='span9'style="margin-top:20px;margin-left:35px">
	    <ul  class="nav nav-pills" id="mytabs">
	         <li class="active">
		    <a id="groupSessions" href="#devices">Devices</a>	    	 
		  </li>
		  <li class="">
		    <a id="groupCycles" href="#cycles">Cycles</a>
		  </li>
		</ul>
	</div>
	<div class='tab-content span9'style='overflow:visible' >
		<div class='tab-pane active' id='devices' >
			<table class='table table-hover' >
				<thead><tr>
					<th></th>
					<th>Cycle</th>
					<th>IMEI</th>
					<th>Product</th>
					<th>Starttime</th>
					<th>Uptime</th>
					<th>Revision</th>
					<th>Tester</th>
                                        <th>Detail</th>
					<th>Edit</th>
				</tr></thead>
			<tbody style='border:none' ng-repeat='session in sessions | orderBy :"endtime" | orderBy: "-cid"' ng-class-odd="'odd'" ng-switch on='session.endtime'>
		            <tr><!--ng-class="{green:!session.endtime}"-->
				<td>
				    <div ng-switch-when='' style="height:14px;width:14px">
					<img src='img/arrow_up.png'>
				    </div>
				    <div ng-switch-default style="height:12px;width:12px">
					<img src='img/check.png'>
				    </div>
				</td>	
				<td>
		                    <div class="btn-group">
                	              <a class="btn btn-info btn-mini dropdown-toggle" data-toggle="dropdown" href="#">
                        	        {{session.cid || 'Edit'}} 
 	                                <span class="caret"></span>
                            	      </a>
                                      <ul class="dropdown-menu">
                               		<li ng-repeat='cycle in cycles '>
                                          <a ng-click='setcycle(session,cycle.cid)' href="">{{cycle.cid}}</a>
                                	</li> 
                                        <li><a ng-click='newcycle(session)' href="">New Cycle</a></li>
                                        <li><a ng-click='delcycle(session)' href="">Delete Cycle</a></li>
                            	      </ul>
                        	    </div>
                    		</td>	
					<td>{{session.IMEI || "NA"}}</td>
					<td>{{session.product}}</td>
					<td>{{session.starttime}}</td>
					<td>{{session.uptime}}</td>
					<td style='word-break:break-all;'><span>{{session.revision || "NA"}}</span></td>
				        <td>{{session.tester}}
                                   	<td><a href="#/smartserver/group/{{session.gid}}/{{session.sid}}">detail</a></td>
					<td><a href=""  ng-click='delSession({{"session.sid"}})' >delete</a></td>
			    </tr>
			</tbody>
			</table>
		</div>
		<div class='tab-pane' id='cycles'>
			<table class='table table-striped table-hover' >
				<thead>
					<tr>
						<th>Cycle</th>
						<th>Product</th>
						<th>Revision</th>
						<th>Devices</th>
						<th>Living Devices</th>
						<th>Report</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat='cycle in cycles | orderBy:"cid"'>
						<td>{{cycle.cid}}</td>
						<td>{{cycle.product}}</td>
						<td>{{cycle.revision || "NA"}}</td>
						<td>{{cycle.devicecount}}</td>
						<td>{{cycle.livecount}}</td>
						<td><a ng-click='report({{cycle.cid}})' href="">report</a></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

</div>

<div class='member_content span3'style='margin-left:100px;margin-top:15px;width:200px' >
	
	<dl>
		<dt><h3>Members</h3></dt>
		<dd ng-repeat="member in members | orderBy:'role':!reverse">
			<img style='width:30px;height:30px;margin-bottom:5px;' ng-src='{{member.avatar.url}}'>
			<span>{{member.username}}<i style='font-size:10px;'>{{member.role | role}}</i></span>
			<button ng-click='delMember("{{member.username}}")' class='btn btn-mini btn-link'>del</button>

		</dd>
<br><dt><button ng-click='addMember()' class='btn'>Add Member...</button></dt>
	</dl>
</div>

<div>
    <script type="text/ng-template" id="myModalContent.html">
<style>
.addMember{
height:auto;
width: 400px;
position:fixed;
left:50%;
margin-left:-200px;
margin-top:100px;
}
</style> 
       <div class="modal-header">
            <h3>Add new Member</h3>
        </div>
        <div class="modal-body">
        <form>
            <label for="name">UserName</label>
            <select ng-model='selected.membername' id='name'>
            	<option ng-repeat="user in users">{{user.username}}</option>
            </select>
            <label for="role">UserRole</label>
            <select ng-model='selected.rolename' id='role'>
                <option value='member'>member</option>
                <option value='admin'>admin</option>
            </select>
        </form>
        </div>
    <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">OK</button>
            <button class="btn btn-primary" ng-click="cancel()">Cancel</button>
        </div>
    </script>

</div>
