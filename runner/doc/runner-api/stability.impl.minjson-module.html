<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>stability.impl.minjson</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="stability.impl-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        Package&nbsp;stability ::
        <a href="stability.impl-module.html">Package&nbsp;impl</a> ::
        Module&nbsp;minjson
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="stability.impl.minjson-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module minjson</h1><p class="nomargin-top"><span class="codelink"><a href="stability.impl.minjson-pysrc.html">source&nbsp;code</a></span></p>
<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="stability.impl.minjson.ReadException-class.html" class="summary-name">ReadException</a>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="stability.impl.minjson.WriteException-class.html" class="summary-name">WriteException</a>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="stability.impl.minjson-module.html#_Read" class="summary-sig-name" onclick="show_private();">_Read</a>(<span class="summary-sig-arg">aString</span>)</span><br />
      Use eval in a 'safe' way to turn javascript expression into a python 
      expression.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="stability.impl.minjson-pysrc.html#_Read">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_getStringState"></a><span class="summary-sig-name">_getStringState</span>(<span class="summary-sig-arg">aSequence</span>)</span><br />
      return the list of required quote closures if the end of aString 
      needs them to close quotes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="stability.impl.minjson-pysrc.html#_getStringState">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="stability.impl.minjson-module.html#_sanityCheckMath" class="summary-sig-name" onclick="show_private();">_sanityCheckMath</a>(<span class="summary-sig-arg">aString</span>)</span><br />
      just need to check that, if there is a math operator in the client's 
      JSON, it is inside a quoted string.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="stability.impl.minjson-pysrc.html#_sanityCheckMath">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="safeRead"></a><span class="summary-sig-name">safeRead</span>(<span class="summary-sig-arg">aString</span>)</span><br />
      turn the js into happier python and check for bad operations before 
      sending it to the interpreter</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="stability.impl.minjson-pysrc.html#safeRead">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="read"></a><span class="summary-sig-name">read</span>(<span class="summary-sig-arg">aString</span>)</span><br />
      turn the js into happier python and check for bad operations before 
      sending it to the interpreter</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="stability.impl.minjson-pysrc.html#safeRead">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_replaceTrueFalseNone"></a><span class="summary-sig-name">_replaceTrueFalseNone</span>(<span class="summary-sig-arg">aString</span>)</span><br />
      replace True, False, and None with javascript counterparts</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="stability.impl.minjson-pysrc.html#_replaceTrueFalseNone">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_handleCode"></a><span class="summary-sig-name">_handleCode</span>(<span class="summary-sig-arg">subStr</span>,
        <span class="summary-sig-arg">stripWhiteSpace</span>)</span><br />
      replace True, False, and None with javascript counterparts if 
      appropriate, remove unicode u's, fix long L's, make tuples lists, and
      strip white space if requested</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="stability.impl.minjson-pysrc.html#_handleCode">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="doQuotesSwapping"></a><span class="summary-sig-name">doQuotesSwapping</span>(<span class="summary-sig-arg">aString</span>)</span><br />
      rewrite doublequoted strings with single quotes as singlequoted 
      strings with escaped single quotes</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="stability.impl.minjson-pysrc.html#doQuotesSwapping">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="stability.impl.minjson-module.html#_pyexpr2jsexpr" class="summary-sig-name" onclick="show_private();">_pyexpr2jsexpr</a>(<span class="summary-sig-arg">aString</span>,
        <span class="summary-sig-arg">stripWhiteSpace</span>)</span><br />
      Take advantage of python's formatting of string representations of 
      objects.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="stability.impl.minjson-pysrc.html#_pyexpr2jsexpr">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="stability.impl.minjson-module.html#write" class="summary-sig-name">write</a>(<span class="summary-sig-arg">obj</span>,
        <span class="summary-sig-arg">encoding</span>=<span class="summary-sig-default">&quot;utf-8&quot;</span>,
        <span class="summary-sig-arg">stripWhiteSpace</span>=<span class="summary-sig-default">alwaysStripWhiteSpace</span>)</span><br />
      Represent the object as a string.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="stability.impl.minjson-pysrc.html#write">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="alwaysStripWhiteSpace"></a><span class="summary-name">alwaysStripWhiteSpace</span> = <code title="False">False</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="badOperators"></a><span class="summary-name">badOperators</span> = <code title="'*'">'*'</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="slashstarcomment"></a><span class="summary-name">slashstarcomment</span> = <code title="compile(r'/\*.*?\*/', DOTALL)">compile(r'/\*.*?\*/', DOTALL)</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="doubleslashcomment"></a><span class="summary-name">doubleslashcomment</span> = <code title="compile(r'//.*\n')">compile(r'//.*\n')</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="regexes"></a><span class="summary-name">regexes</span> = <code title="{}">{}</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="tfnTuple"></a><span class="summary-name">tfnTuple</span> = <code title="'True', 'true', ('False', 'false'), ('None', 'null'),">'True', 'true', ('False', 'false'), ('None', 'null'),</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="redoublequotedstring"></a><span class="summary-name">redoublequotedstring</span> = <code title="compile(r'&quot;[^&quot;]*\'[^&quot;]*&quot;[,\]\}:\)]')">compile(r'&quot;[^&quot;]*\'[^&quot;]*&quot;[,\]\}:\)]')</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="escapedSingleQuote"></a><span class="summary-name">escapedSingleQuote</span> = <code title="r&quot;\'&quot;">r&quot;\'&quot;</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="escapedDoubleQuote"></a><span class="summary-name">escapedDoubleQuote</span> = <code title="r'\&quot;'">r'\&quot;'</code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="_Read"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_Read</span>(<span class="sig-arg">aString</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="stability.impl.minjson-pysrc.html#_Read">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Use eval in a 'safe' way to turn javascript expression into a python 
  expression.  Allow only True, False, and None in global __builtins__, and
  since those map as true, false, null in javascript, pass those as 
  locals</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_sanityCheckMath"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_sanityCheckMath</span>(<span class="sig-arg">aString</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="stability.impl.minjson-pysrc.html#_sanityCheckMath">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>just need to check that, if there is a math operator in the client's 
  JSON, it is inside a quoted string. This is mainly to keep client from 
  successfully sending 'D0S'*9**9**9**9... Return True if OK, False 
  otherwise</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_pyexpr2jsexpr"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_pyexpr2jsexpr</span>(<span class="sig-arg">aString</span>,
        <span class="sig-arg">stripWhiteSpace</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="stability.impl.minjson-pysrc.html#_pyexpr2jsexpr">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Take advantage of python's formatting of string representations of 
  objects.  Python always uses &quot;'&quot; to delimit strings.  Except it
  doesn't when there is ' in the string.  Fix that, then, if we split on 
  that delimiter, we have a list that alternates non-string text with 
  string text.  Since string text is already properly escaped, we only need
  to replace True, False, and None in non-string text and remove any 
  unicode 'u's preceding string values.</p>
  <p>if stripWhiteSpace is True, remove spaces, etc from the non-string 
  text.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="write"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">write</span>(<span class="sig-arg">obj</span>,
        <span class="sig-arg">encoding</span>=<span class="sig-default">&quot;utf-8&quot;</span>,
        <span class="sig-arg">stripWhiteSpace</span>=<span class="sig-default">alwaysStripWhiteSpace</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="stability.impl.minjson-pysrc.html#write">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Represent the object as a string.  Do any necessary fix-ups with 
  pyexpr2jsexpr</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="stability.impl-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Tue Apr  2 15:13:26 2013
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
